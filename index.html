<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Cast CAF Receiver</title>
  </head>

  <body style="background-color:black;">

    <video crossOrigin="anonymous" controls id="videoPlayer" 
      src="http://192.168.1.204:40673/6"
      type="video/mp4">
    </video>

    <script>
      // get player reference
      var videoPlayer = document.getElementById('videoPlayer');

      function initPlayer(){
        // hide built in controller
       // player.controls = false;
        //player.load();
        //player.play();

        
        //  create an instance of the audio context\
        const context = new AudioContext(),
            audioSource = context.createMediaElementSource(document.getElementById("videoPlayer")),
            panner = context.createStereoPanner();
        audioSource.connect(panner);
        panner.connect(context.destination);

        // Configure panner -1 left and 1 for right. 
        panner.pan.setValueAtTime(1, context.currentTime)
      }
      window.onload = initPlayer();

      //
      function resize() {
        var videoRatio = videoPlayer.height / videoPlayer.width;
        var windowRatio = window.innerHeight / window.innerWidth; /* browser size */

        videoPlayer.width = window.innerWidth;

        if(videoPlayer.height > window.innerHeight)
        videoPlayer.height = window.innerHeight;

      };
      window.addEventListener('resize', resize, false);
    </script>
  </body>
  
</html>
